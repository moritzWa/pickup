{
    "name": "server",
    "version": "1.0.0",
    "description": "",
    "main": "./build/main.js",
    "scripts": {
        "/// server commands ///": "",
        "dev:typecheck": "npm run build -- --noEmit",
        "dev:eslint": "./node_modules/eslint/bin/eslint.js ./src",
        "dev:depcheck": "npx madge --circular --extensions ts ./src",
        "prepare": "cd .. && husky install server/.husky",
        "install:all": "yarn install --frozen-lockfile --prod=false",
        "build": "npm run dev:eslint && rm -rf build && ./node_modules/.bin/tsc",
        "postbuild": "npm run copy",
        "start:doctor": "clinic doctor --on-port 'autocannon localhost:$PORT' -- node  -r ./prod-paths.js --max-old-space-size=16384 --optimize_for_size --trace-warnings build/main.js",
        "postinstall": "patch-package",
        "build:swc": "npx swc ./src -d build",
        "copy": "copyfiles -u 1 src/**/*.pdf src/**/*.hbs build",
        "profile": "sh ./src/scripts/bash/profiler.sh",
        "start": "TZ=UTC node  -r ./prod-paths.js --max-old-space-size=16384 --optimize_for_size --trace-warnings build/main.js",
        "start:dev": "TZ=UTC ./node_modules/nodemon/bin/nodemon.js --delay 250ms --config nodemon.json --exec \"node -r ts-node/register/transpile-only -r tsconfig-paths/register src/main.ts\"",
        "start:script": "TZ=UTC  node -r ts-node/register -r tsconfig-paths/register -- ",
        "start:debug": "TZ=UTC node --inspect=9229 ./node_modules/.bin/ts-node -r tsconfig-paths/register src/main.ts",
        "start:prod": "pm2-runtime start ecosystem.web.production.config.js --env production",
        "start:trading": "pm2-runtime start ecosystem.web-trading.production.config.js --env production",
        "inngest": "TZ=UTC EXPOSE_INNGEST=true node  -r ./prod-paths.js --max-old-space-size=32768 --optimize_for_size --trace-warnings build/main.js",
        "inngest:dev": "TZ=UTC EXPOSE_INNGEST=true PORT=8001 ./node_modules/nodemon/bin/nodemon.js -delay 500ms --config nodemon.json --exec \"node --trace-warnings --expose-gc -r ts-node/register -r tsconfig-paths/register src/main.ts\"",
        "inngest:prod": "pm2-runtime start ecosystem.workers.production.config.js --env production",
        "workers:debug": "TZ=UTC nodemon --inspect=0.0.0.0:9229  --exec './node_modules/.bin/ts-node -r tsconfig-paths/register src/jobs/index.ts'",
        "workers:prod": "TZ=UTC node -r ./prod-paths.js --max-old-space-size=32768 --trace-warnings build/jobs/runWorkers.js",
        "crons:prod": "TZ=UTC node -r ./prod-paths.js --optimize_for_size --max-old-space-size=16384 --trace-warnings build/jobs/runCrons.js",
        "/// graphql setup ///": "",
        "graphql:codegen": "./node_modules/.bin/graphql-codegen",
        "graphql:codegen:watch": "./node_modules/.bin/graphql-codegen --watch",
        "generate:nexus": "npm run dev:typecheck && ./node_modules/.bin/ts-node --transpile-only -r tsconfig-paths/register ./src/core/surfaces/graphql/schema.ts",
        "graphql:generate": "npm run generate:nexus && npm run graphql:codegen",
        "/// postgres migrations ///": "",
        "typeorm": "NODE_ENV=migration NO_LOGGER=true ./node_modules/.bin/ts-node --transpile-only -r tsconfig-paths/register ./node_modules/.bin/typeorm -d ./src/core/infra/postgres/index.ts",
        "migrate:create": "./node_modules/.bin/ts-node --transpile-only -r tsconfig-paths/register ./node_modules/typeorm/cli.js migration:create",
        "migrate:generate": "npm run typeorm -- migration:generate",
        "migrate:run": "npm run typeorm -- migration:run && npm run ensure-vector-type",
        "ensure-vector-type": "ts-node --transpile-only -r tsconfig-paths/register src/migrations/1722830444438-vector-migration.ts",
        "migrate:revert": "npm run typeorm -- migration:revert",
        "/// tests ///": "",
        "test": "NODE_ENV=test node ./node_modules/.bin/jest --runInBand --config src/__tests__/config/jest.config.json --passWithNoTests --logHeapUsage --detectOpenHandles --collectCoverage"
    },
    "author": "Andrew Duca",
    "license": "ISC",
    "dependencies": {
        "@datastructures-js/graph": "^5.1.4",
        "@datastructures-js/priority-queue": "^6.1.1",
        "@datastructures-js/queue": "^4.1.3",
        "@flatten-js/interval-tree": "^1.0.20",
        "@google-cloud/pubsub": "^2.18.4",
        "@google-cloud/storage": "^5.14.4",
        "@graphql-codegen/typescript-react-apollo": "^3.2.2",
        "@graphql-inspector/ci": "^3.0.1",
        "@graphql-tools/graphql-file-loader": "^7.1.0",
        "@graphql-tools/load": "^7.3.2",
        "@inngest/eslint-plugin": "^0.0.4",
        "@magic-sdk/admin": "^2.1.0",
        "@marinade.finance/native-staking-sdk": "^1.0.0",
        "@moralisweb3/evm-utils": "^2.8.0",
        "@mozilla/readability": "^0.5.0",
        "@onesignal/node-onesignal": "^2.0.1-beta2",
        "@opendocsg/pdf2md": "^0.1.31",
        "@sendgrid/mail": "^7.6.2",
        "@sentry/integrations": "^6.19.7",
        "@sentry/node": "^7.8.1",
        "@sentry/tracing": "^7.8.1",
        "@slack/web-api": "^6.7.1",
        "@types/analytics-node": "^3.1.9",
        "@types/async-lock": "^1.4.2",
        "@types/axios-curlirize": "^1.3.2",
        "@types/bintrees": "^1.0.3",
        "@types/bitcoinjs-lib": "^5.0.0",
        "@types/bull": "^3.15.8",
        "@types/bytes": "^3.1.1",
        "@types/collections": "^5.1.2",
        "@types/deep-diff": "^1.0.1",
        "@types/deep-equal": "^1.0.4",
        "@types/dinero.js": "^1.9.0",
        "@types/double-ended-queue": "^2.1.1",
        "@types/fluent-ffmpeg": "^2.1.25",
        "@types/graphlib": "^2.1.8",
        "@types/graphql-upload": "^8.0.12",
        "@types/json-diff": "^1.0.0",
        "@types/jsonwebtoken": "^9.0.6",
        "@types/luxon": "^2.3.2",
        "@types/mkdirp": "^1.0.2",
        "@types/multer": "^1.4.11",
        "@types/node-schedule": "^2.1.0",
        "@types/numbro": "^1.9.3",
        "@types/object-hash": "^2.2.1",
        "@types/semaphore": "^1.1.4",
        "@types/twilio": "^3.19.3",
        "@types/uuid-validate": "^0.0.1",
        "@types/workerpool": "^6.1.1",
        "@typescript-eslint/eslint-plugin": "^6.17.0",
        "@typescript-eslint/parser": "^6.17.0",
        "@ungap/structured-clone": "^1.0.1",
        "JSONStream": "^1.3.5",
        "add": "^2.0.6",
        "alchemy-sdk": "^2.1.0",
        "algoliasearch": "^4.23.2",
        "analytics-node": "^6.2.0",
        "apollo-server": "^3.3.0",
        "apollo-server-core": "^3.3.0",
        "apollo-server-errors": "^3.1.0",
        "apollo-server-express": "^3.3.0",
        "app-root-path": "^3.0.0",
        "async-mutex": "^0.4.0",
        "audio-metadata": "^0.3.0",
        "aws-sdk": "^2.1145.0",
        "axios": "^0.27.2",
        "axios-curlirize": "1.3.7",
        "axios-retry": "^3.2.5",
        "bignumber.js": "^9.0.2",
        "bintrees": "^1.0.2",
        "bip32": "^4.0.0",
        "bip39": "^3.1.0",
        "bitcoinjs-lib": "^6.1.0",
        "brorand": "^1.1.0",
        "bs58": "^5.0.0",
        "bull": "^4.8.2",
        "bullmq": "^3.13.4",
        "bytes": "^3.1.2",
        "class-transformer": "^0.5.1",
        "clinic": "^11.1.2",
        "coinbase": "^2.0.8",
        "collections": "^5.1.13",
        "copyfiles": "^2.4.1",
        "cors": "^2.8.5",
        "crc32": "^0.2.2",
        "cronstrue": "^2.4.0",
        "cryptoapis": "^1.13.0",
        "csv-writer": "^1.6.0",
        "dataloader": "^2.2.2",
        "dd-trace": "^4.16.0",
        "deep-diff": "^1.0.2",
        "deep-equal": "^2.2.3",
        "deep-object-diff": "^1.1.7",
        "dinero.js": "^1.9.1",
        "dotenv": "^10.0.0",
        "double-ended-queue": "^2.1.0-0",
        "elevenlabs": "^0.10.0",
        "eslint": "^8.56.0",
        "exa-js": "^1.0.14",
        "expo-status-bar": "^1.1.0",
        "express": "^4.17.1",
        "express-promise-router": "^4.1.0",
        "express-rate-limit": "^7.2.0",
        "fast-csv": "^4.3.6",
        "fastpriorityqueue": "^0.7.2",
        "firebase-admin": "^9.12.0",
        "fluent-ffmpeg": "^2.1.3",
        "fuse.js": "^7.0.0",
        "graph-data-structure": "^2.0.0",
        "graphlib": "^2.1.8",
        "graphql": "^16.9.0",
        "graphql-tools": "^8.2.0",
        "graphql-upload": "^15.0.2",
        "handlebars": "^4.7.7",
        "helius-sdk": "^1.3.3",
        "helmet": "^7.1.0",
        "hot-shots": "^9.0.0",
        "http": "^0.0.1-security",
        "http-status-codes": "^2.1.4",
        "husky": "^8.0.1",
        "inngest": "^3.11.0",
        "ioredis": "^5.4.1",
        "jito-ts": "^3.0.1",
        "joi": "^17.4.2",
        "js-queue": "^2.0.2",
        "jsdom": "^24.1.1",
        "json-diff": "^1.0.6",
        "json-rules-engine": "^6.1.2",
        "jsonwebtoken": "^9.0.2",
        "lodash": "^4.17.21",
        "luxon": "^2.3.2",
        "mime-types": "^2.1.33",
        "mkdirp": "^1.0.4",
        "moment": "^2.29.1",
        "moment-timezone": "^0.5.41",
        "moralis": "^2.11.1",
        "music-metadata": "^10.1.0",
        "nanoid": "3.0.0",
        "nestjs-typeorm-paginate": "^4.0.2",
        "nexus": "^1.1.0",
        "node-forge": "^1.3.1",
        "node-html-markdown": "^1.3.0",
        "node-schedule": "^2.1.1",
        "nodemon": "^2.0.13",
        "numbro": "^2.4.0",
        "object-hash": "^3.0.0",
        "openai": "^4.53.0",
        "path": "^0.12.7",
        "pdf-lib": "^1.17.1",
        "pdf-parse": "^1.1.1",
        "pg": "^8.7.1",
        "pg-sql": "^1.1.0",
        "pgvector": "^0.2.0",
        "piscina": "^4.1.0",
        "plaid": "^12.1.0",
        "pm2": "^5.3.0",
        "postgres": "^3.2.4",
        "puppeteer": "^19.11.1",
        "pusher": "^5.1.2",
        "qs": "^6.10.2",
        "radash": "^7.1.0",
        "rate-limit-redis": "^4.2.0",
        "redlock": "^5.0.0-beta.2",
        "redlock-temp-fix": "^5.0.0-beta.2",
        "rss-parser": "^3.13.0",
        "slugify": "^1.6.6",
        "sql-template-tag": "^5.0.3",
        "stripe": "^10.17.0",
        "supertest": "^6.2.4",
        "throng": "^5.0.0",
        "tiktoken": "^1.0.15",
        "tiny-secp256k1": "^2.2.1",
        "ts-node": "^10.2.1",
        "tsconfig-paths": "^3.11.0",
        "tweetnacl": "^1.0.3",
        "tweetnacl-util": "^0.15.1",
        "twilio": "^5.0.1",
        "type-fest": "^3.5.1",
        "typeorm": "^0.3.12",
        "typeorm-cursor-pagination": "^0.9.1",
        "typescript": "^4.7.4",
        "unique-names-generator": "^4.7.1",
        "unique-username-generator": "^1.3.0",
        "uuid": "^8.3.2",
        "uuid-validate": "^0.0.3",
        "v8-profiler-next": "^1.9.0",
        "vezgo-sdk-js": "^1.0.8",
        "web3-core": "^1.7.3",
        "winston": "^3.7.2",
        "workerpool": "^6.4.0",
        "xlsx": "^0.18.5"
    },
    "devDependencies": {
        "@babel/preset-typescript": "^7.18.6",
        "@graphql-codegen/cli": "^5.0.2",
        "@graphql-codegen/introspection": "^4.0.3",
        "@graphql-codegen/typescript": "^4.0.9",
        "@graphql-codegen/typescript-operations": "^4.2.3",
        "@graphql-codegen/typescript-resolvers": "^4.2.1",
        "@swc-node/register": "^1.5.2",
        "@swc/cli": "^0.1.57",
        "@swc/core": "^1.3.4",
        "@types/coinbase": "^2.0.8",
        "@types/html-pdf-node": "^1.0.0",
        "@types/ioredis": "^4.28.10",
        "@types/jest": "^28.1.4",
        "@types/joi": "^17.2.3",
        "@types/lodash": "^4.14.175",
        "@types/node": "^17.0.5",
        "@types/uuid": "^8.3.3",
        "jest": "^28.1.2",
        "patch-package": "^7.0.0",
        "ts-jest": "^28.0.5",
        "ts-node-dev": "^2.0.0"
    },
    "engines": {
        "node": ">=18 <21"
    }
}
